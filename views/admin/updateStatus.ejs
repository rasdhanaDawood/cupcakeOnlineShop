<%- include('../partials/adminHeader.ejs') -%>
    <div class="container">
        <br><br>
        <h1>Order Details</h1>
        <!-- Order ID and Shipping Address -->
        <div class="order-details">
            <form action="/admin/updateStatus" method="post">
                <h2>Order Information</h2><br>

                <p><strong>Order ID:</strong> ID#<%=orders._id%>
                </p>

                <p><strong>Order Status: </strong>
                    <%=orders.status%>
                </p>

                <p><strong>Order Date & Time: </strong>
                <div id="date">
                    <%= orders.created_at %>


                </div><br>
                <div class="row">
                    <input type="hidden" name="id" value="<%= orders._id %>">
                    <div class="col-lg-2">
                        <label for="status">Select Status:</label>

                    </div>
                    <div class="col-lg-2">
                        <select class="form-control" style="width: auto;" id="status" name="status">
                            <option value="Pending">Pending</option>
                            <option value="Processing">Processing</option>
                            <option value="Shipped">Shipped</option>
                            <option value="Delivered">Delivered</option>
                            <option value="Cancelled">Cancelled</option>
                        </select>
                    </div>
                    <div class="col-lg-2">
                        <button type="submit" class="btn btn-dark">Update Status</button>

                    </div>



                </div>
            </form>
        </div>
        <!-- Order Details -->

    </div>
    <script>
        // Retrieve the date string from the database
        const dateString = "Sun Mar 24 2024 16:30:29 GMT+0300 (Arabian Standard Time)";

        // Parse the date string into a Date object
        const date = new Date(dateString);

        // Format the date and time
        const formattedDate = formatDate(date);

        // Display the formatted date and time on the HTML page
        document.getElementById("date").innerText = formattedDate;

        // Function to format the date and time
        function formatDate(date) {
            // Months array
            const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

            // Get the components of the date
            const year = date.getFullYear();
            const month = months[date.getMonth()];
            const day = date.getDate();
            const hours = date.getHours();
            const minutes = date.getMinutes();
            const seconds = date.getSeconds();

            // Format the date and time
            const formattedDate = `${day} ${month} ${year} ${hours}:${minutes}:${seconds}`;

            return formattedDate;
        }
    </script>

    <%- include('../partials/adminPlugins.ejs') -%>